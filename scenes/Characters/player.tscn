[gd_scene load_steps=19 format=3 uid="uid://dqodww44lonjy"]

[ext_resource type="PackedScene" uid="uid://c47hnj6un4gv2" path="res://Resources/GLTF/characters/characters.glb" id="1_qcea8"]
[ext_resource type="Script" path="res://Scripts/player.gd" id="2_58bws"]
[ext_resource type="Script" path="res://Scripts/Camera.gd" id="3_5n4it"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_cgn0n"]
xfade_time = 0.1
allow_transition_to_self = true
input_0/name = "Aiming"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "Not_Aiming"
input_1/auto_advance = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ibdno"]
animation = &"WALK"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_r8rpu"]
animation = &"Running"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ne1s7"]
animation = &"Idle"

[sub_resource type="AnimationNodeBlend3" id="AnimationNodeBlend3_w4ux0"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_n5aa4"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7htbj"]
animation = &"WALK"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_njceg"]
animation = &"Strafe_back"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2k8fs"]
animation = &"Right_strafe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6sk4v"]
animation = &"Left_strafe"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_nrgyh"]
animation = &"back_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s6bn8"]
animation = &"back_left"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_c2m2a"]
blend_point_0/node = SubResource("AnimationNodeAnimation_n5aa4")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_7htbj")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_njceg")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_2k8fs")
blend_point_3/pos = Vector2(1, 0)
blend_point_4/node = SubResource("AnimationNodeAnimation_6sk4v")
blend_point_4/pos = Vector2(-1, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_nrgyh")
blend_point_5/pos = Vector2(1, -0.9)
blend_point_6/node = SubResource("AnimationNodeAnimation_s6bn8")
blend_point_6/pos = Vector2(-1, -0.9)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_g7e8d"]
graph_offset = Vector2(-317.107, 164.839)
nodes/Aim_Anim/node = SubResource("AnimationNodeTransition_cgn0n")
nodes/Aim_Anim/position = Vector2(260, 200)
nodes/Animation/node = SubResource("AnimationNodeAnimation_ne1s7")
nodes/Animation/position = Vector2(-360, 420)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_ibdno")
"nodes/Animation 2/position" = Vector2(-360, 520)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_r8rpu")
"nodes/Animation 3/position" = Vector2(-360, 620)
nodes/Idle_Walk_Run/node = SubResource("AnimationNodeBlend3_w4ux0")
nodes/Idle_Walk_Run/position = Vector2(60, 300)
nodes/Strafe/node = SubResource("AnimationNodeBlendSpace2D_c2m2a")
nodes/Strafe/position = Vector2(-60, 100)
nodes/output/position = Vector2(480, 200)
node_connections = [&"output", 0, &"Aim_Anim", &"Aim_Anim", 0, &"Strafe", &"Aim_Anim", 1, &"Idle_Walk_Run", &"Idle_Walk_Run", 0, &"Animation", &"Idle_Walk_Run", 1, &"Animation 2", &"Idle_Walk_Run", 2, &"Animation 3"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_57jwr"]
radius = 0.588354
height = 3.47369

[node name="characters" instance=ExtResource("1_qcea8")]
script = ExtResource("2_58bws")

[node name="Skeleton3D" parent="Armature" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
bones/0/position = Vector3(-0.140243, 2.11185, -0.00463179)
bones/0/rotation = Quaternion(-0.0017958, 0.011082, 0.00338528, 0.999931)
bones/1/rotation = Quaternion(-0.0465052, -0.0032788, 0.00266383, 0.998909)
bones/2/rotation = Quaternion(0.000236604, -0.0230592, 0.00341536, 0.999728)
bones/3/rotation = Quaternion(5.8494e-05, -0.0230323, 0.00346894, 0.999729)
bones/4/rotation = Quaternion(0.0364854, 0.0181434, -0.0249643, 0.998858)
bones/5/rotation = Quaternion(0.0705134, -0.0128651, 0.0158463, 0.997302)
bones/6/rotation = Quaternion(-0.506967, -0.44143, 0.653729, -0.347509)
bones/7/rotation = Quaternion(0.419936, 0.183231, 0.0667474, 0.886355)
bones/8/rotation = Quaternion(5.15644e-07, -1.73226e-07, 0.26716, 0.963652)
bones/9/rotation = Quaternion(0.113231, 0.0572759, -0.125427, 0.983954)
bones/10/rotation = Quaternion(0.197156, 0.00232244, -0.033156, 0.979809)
bones/11/rotation = Quaternion(0.174502, -0.0454743, 0.136815, 0.974045)
bones/12/rotation = Quaternion(0.0697539, 0.0537873, -0.30802, 0.947294)
bones/13/rotation = Quaternion(0.197156, 0.00232244, -0.033156, 0.979809)
bones/14/rotation = Quaternion(0.174502, -0.0454743, 0.136815, 0.974045)
bones/15/rotation = Quaternion(0.0697539, 0.0537873, -0.30802, 0.947294)
bones/16/rotation = Quaternion(0.550936, -0.442638, 0.563199, 0.428191)
bones/17/rotation = Quaternion(0.482448, -0.166393, -0.106779, 0.853321)
bones/18/rotation = Quaternion(1.61994e-07, 5.10365e-07, -0.235465, 0.971883)
bones/19/rotation = Quaternion(-0.00129269, 0.0125657, 0.124734, 0.99211)
bones/20/rotation = Quaternion(0.0902251, -0.00133746, 0.0496936, 0.99468)
bones/21/rotation = Quaternion(0.206481, 0.070532, -0.175406, 0.960012)
bones/22/rotation = Quaternion(0.0307891, -0.0462433, 0.233747, 0.970709)
bones/23/rotation = Quaternion(0.0902251, -0.00133746, 0.0496936, 0.99468)
bones/24/rotation = Quaternion(0.206481, 0.070532, -0.175406, 0.960012)
bones/25/rotation = Quaternion(0.0307891, -0.0462433, 0.233747, 0.970709)
bones/26/rotation = Quaternion(0.0802422, 0.0868387, 0.991666, -0.0511703)
bones/27/rotation = Quaternion(-0.183438, -3.11501e-06, -3.07824e-07, 0.983031)
bones/28/rotation = Quaternion(0.546863, 0.0213543, -0.0151754, 0.836812)
bones/28/scale = Vector3(1.00001, 1, 1)
bones/29/rotation = Quaternion(0.293466, -0.118427, 0.0364675, 0.947905)
bones/30/rotation = Quaternion(-0.119358, 0.10781, 0.986637, 0.0260484)
bones/31/rotation = Quaternion(-0.208831, -3.4329e-06, -9.01157e-07, 0.977952)
bones/32/rotation = Quaternion(0.550025, 0.00145926, -0.0356619, 0.834385)
bones/32/scale = Vector3(1.00001, 1, 0.999999)
bones/33/rotation = Quaternion(0.294508, 0.119403, -0.0369876, 0.947438)
bones/34/rotation = Quaternion(-2.98027e-08, 0.00499998, -3.88552e-18, 0.999987)
bones/35/position = Vector3(-0.14019, 2.11185, -0.00603396)
bones/35/rotation = Quaternion(-0.00179761, 0.00606457, 0.00336552, 0.999974)
bones/36/rotation = Quaternion(1, -1.11956e-10, 4.36677e-08, 4.36804e-10)
bones/38/rotation = Quaternion(0.0511694, 0.991661, -0.0868971, 0.0802488)
bones/39/rotation = Quaternion(-0.183438, -3.11671e-06, -3.06545e-07, 0.983031)
bones/45/rotation = Quaternion(-0.0260484, 0.986637, -0.10781, -0.119358)
bones/46/rotation = Quaternion(-0.208831, -3.43965e-06, -9.00108e-07, 0.977952)
bones/52/rotation = Quaternion(-0.0465068, -0.0032898, 0.00265981, 0.998909)
bones/53/rotation = Quaternion(0.000236604, -0.0230592, 0.00341536, 0.999728)
bones/54/rotation = Quaternion(5.8494e-05, -0.0230323, 0.00346894, 0.999729)
bones/55/rotation = Quaternion(0.0364854, 0.0181434, -0.0249643, 0.998858)
bones/56/rotation = Quaternion(0.0705134, -0.0128651, 0.0158463, 0.997302)
bones/57/rotation = Quaternion(-0.506967, -0.44143, 0.653729, -0.347509)
bones/58/rotation = Quaternion(0.419936, 0.183231, 0.0667474, 0.886355)
bones/59/rotation = Quaternion(5.15952e-07, -1.7139e-07, 0.26716, 0.963652)
bones/60/position = Vector3(0.410026, 0.0850836, -0.0718648)
bones/63/rotation = Quaternion(0.550936, -0.442638, 0.563199, 0.428191)
bones/64/rotation = Quaternion(0.482448, -0.166393, -0.106779, 0.853321)
bones/65/rotation = Quaternion(1.63089e-07, 5.15989e-07, -0.235604, 0.971849)
bones/66/position = Vector3(-0.430338, 0.123061, -0.0128956)
bones/69/position = Vector3(0.566221, 2.152, -0.524489)
bones/69/rotation = Quaternion(-0.707107, -1.49201e-08, 7.40862e-10, 0.707107)
bones/70/position = Vector3(0.494227, 1.95136, 0.153127)
bones/70/rotation = Quaternion(0.830101, -0.0348696, -0.544843, 0.113415)
bones/71/position = Vector3(-0.877278, 2.158, -0.493415)
bones/71/rotation = Quaternion(-0.707107, -1.49201e-08, 7.40862e-10, 0.707107)
bones/72/position = Vector3(-0.744251, 1.95044, 0.172075)
bones/72/rotation = Quaternion(0.789697, 0.00957815, 0.587262, 0.177227)
bones/73/position = Vector3(0.226674, 0.181253, -0.0540343)
bones/73/rotation = Quaternion(0.0693939, 0.703692, 0.703693, -0.0694164)
bones/74/position = Vector3(-5.45083e-07, -1.05889e-06, -1.27075e-05)
bones/74/rotation = Quaternion(-0.293099, 0.0474149, -0.0145641, 0.954795)
bones/77/rotation = Quaternion(0.00262366, 3.21486e-06, -0.000329156, 0.999997)
bones/87/rotation = Quaternion(0.00134683, 5.20164e-06, -0.000166788, 0.999999)
bones/89/position = Vector3(0.357111, 1.14141, 1.08916)
bones/89/rotation = Quaternion(-0.707107, 2.17055e-06, 4.21345e-08, 0.707107)
bones/90/position = Vector3(-0.371932, 0.181093, -0.00364209)
bones/90/rotation = Quaternion(-0.108902, 0.698667, 0.69867, 0.108927)
bones/91/position = Vector3(2.89723e-06, -9.49158e-07, -2.68183e-05)
bones/91/rotation = Quaternion(-0.294802, -0.0481888, 0.0148998, 0.954226)
bones/94/position = Vector3(-8.76058e-08, -1.19054e-05, 8.1234e-06)
bones/94/rotation = Quaternion(0.00122683, 3.33513e-06, 0.000158088, 0.999999)
bones/104/rotation = Quaternion(0.00125567, 2.77536e-06, 0.000155517, 0.999999)
bones/106/position = Vector3(-0.611016, 1.14917, 1.13632)
bones/106/rotation = Quaternion(-0.707107, -2.88704e-06, -2.84471e-07, 0.707107)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_g7e8d")
anim_player = NodePath("../AnimationPlayer")
parameters/Aim_Anim/current_state = "Not_Aiming"
parameters/Aim_Anim/transition_request = ""
parameters/Aim_Anim/current_index = 1
parameters/Idle_Walk_Run/blend_amount = -1.0
parameters/Strafe/blend_position = Vector2(-0.753032, -0.187773)

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.79367, 0)
shape = SubResource("CapsuleShape3D_57jwr")

[node name="Camroot" type="Node3D" parent="." index="4"]
script = ExtResource("3_5n4it")

[node name="H_rot" type="Node3D" parent="Camroot" index="0"]

[node name="V_Rot" type="Node3D" parent="Camroot/H_rot" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 0)

[node name="CameraSpring" type="SpringArm3D" parent="Camroot/H_rot/V_Rot" index="0"]
spring_length = 3.0

[node name="Camera3D" type="Camera3D" parent="Camroot/H_rot/V_Rot/CameraSpring" index="0"]
